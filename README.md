mysql知识

https://www.cnblogs.com/rjzheng/p/9950951.html
事务隔离级别由低到高:

1 读未提交-> 造成脏读
2 读已提交-> 可避免脏读, 但造成不可重复读、幻读
3 可重复读(默认)-> 可避免脏读、不可重复读(因为读取的是某记录的快照), 但依然会存在幻读
4 串行化-> 可避免脏读、不可重复读、幻读的发生。

共享锁(S): 事务A加了共享锁,事务B只能加共享锁,而不能加排他锁
排他锁(X): 事务A加了排它锁,事务B既不能加共享锁,也不能加排他锁

普通select是不加任何锁的, 并且是快照读。但是! 当处于串行化隔离级别下, select语句都自动加上共享锁, 是当前读。
select ... lock in share mode 会加共享锁, 是当前读。
select ... for update 会加排他锁, 是当前读。

聚簇索引和非聚簇索引
